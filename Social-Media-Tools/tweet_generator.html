<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Tweet Generator</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <style>
    body {
      font-family: Arial, Helvetica, sans-serif;
      background: #f5f8fa;
      margin: 0;
      padding: 20px;
    }

    .container {
      max-width: 900px;
      margin: auto;
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    .panel {
      background: #fff;
      border-radius: 12px;
      padding: 16px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.08);
      align-items: center;
    }

    h2 { margin-top: 0; font-size: 18px; }

    label { font-size: 13px; margin-bottom: 4px; display: block; }

    input, textarea, select {
      width: 100%;
      padding: 8px;
      border-radius: 6px;
      border: 1px solid #ccc;
      font-size: 14px;
    }

    textarea { resize: vertical; min-height: 90px; }

    .row { display: grid; gap: 12px; margin-bottom: 14px; }
    .row-3 { grid-template-columns: repeat(3, 1fr); }
    .row-4 { grid-template-columns: repeat(4, 1fr); }

    button {
      padding: 12px;
      width: 100%;
      border-radius: 8px;
      border: none;
      background: #1da1f2;
      color: #fff;
      font-size: 15px;
      cursor: pointer;
    }

    /* Tweet Preview */
    .tweet {
      border: 1px solid #e1e8ed;
      border-radius: 14px;
      padding: 14px;
      max-width: 520px;
      margin: auto;
      background: #fff;
    }

    .tweet.dark {
      background: #15202b;
      color: #fff;
      border-color: #253341;
    }

    .tweet-header {
      display: flex;
      gap: 10px;
      align-items: flex-start;
    }

    .avatar {
      width: 48px;
      height: 48px;
      border-radius: 50%;
      object-fit: cover;
      background: #ddd;
    }

    .header-text {
      display: flex;
      flex-direction: column;
      gap: 2px;
      align-items: flex-start;
      font-size: 14px;
    }

    .name { font-weight: bold; }
    .username, .date { color: #657786; }

    .tweet.dark .username,
    .tweet.dark .date { color: #8899a6; }

    .tweet-text {
      margin-top: 10px;
      font-size: 15px;
      white-space: pre-wrap;
    }

    /* Dynamic image grid */
    .tweet-images {
      margin-top: 10px;
      display: grid;
      gap: 6px;
      height: 300px;
    }

    .tweet-images.one { grid-template-columns: 1fr; }
    .tweet-images.two { grid-template-columns: repeat(2, 1fr); }
    .tweet-images.three,
    .tweet-images.four { grid-template-columns: repeat(2, 1fr); }

    .tweet-images img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      border-radius: 10px;
    }

    .tweet-footer {
      margin-top: 10px;
      font-size: 13px;
      color: #657786;
      display: flex;
      justify-content: space-between;
    }

     button {
      padding: 10px 24px;
      width: auto;
      min-width: 180px;
      border-radius: 20px;
      border: none;
      background: #1da1f2;
      color: #fff;
      font-size: 18px;
      cursor: pointer;
    }
    .verified {
  color:#1da1f2;
  margin-left:4px;
}

    .tweet.dark .tweet-footer { color: #8899a6; }
  </style>
</head>

<body>

<div class="container">

  <!-- Preview -->
  <div class="panel">
    <h2>Preview</h2>
    <div id="tweet" class="tweet">
      <div class="tweet-header">
        <img id="avatar" class="avatar" />
        <div class="header-text">
         <div>
        <span id="pName" class="name"></span>
        <span id="pVerified" class="verified" style="display:none;">‚úîÔ∏è</span>
      </div>
          <div>
            <span id="pUsername" class="username"></span>
            ¬∑ <span id="pDate" class="date"></span>
          </div>
        </div>
      </div>

      <div id="pText" class="tweet-text"></div>
      <div id="pImages" class="tweet-images"></div>

      <div class="tweet-footer">
        <span>üí¨ <span id="pReplies"></span></span>
        <span>üîÅ <span id="pRetweets"></span></span>
        <span>‚ù§Ô∏è <span id="pLikes"></span></span>
        <span>üëÅÔ∏è <span id="pViews"></span></span>
      </div>
    </div>

  </div>

  <!-- Settings -->
  <div class="panel">
    <h2>Tweet Settings</h2>

    <div class="row row-3">
      <div>
        <label>Theme</label>
        <select id="theme">
          <option value="light">Light</option>
          <option value="dark">Dark</option>
        </select>
      </div>
      <div>
        <label>Profile Image</label>
        <input type="file" id="avatarInput" accept="image/*">
      </div>
      <div>
        <label>Tweet Images (max 4)</label>
        <input type="file" id="imagesInput" accept="image/*" multiple>
      </div>
    </div>

    <div class="row row-3">
      <div>
        <label>Name</label>
        <input id="name1" value="Elon Musk">
      </div>
       <div>
    <label>Username</label>
    <div style="display:flex; gap:8px;">
      <input id="username" value="@elonmusk">
      <button type="button" id="verifiedBtn" style="min-width:auto;padding:6px 12px;">Verified</button>
    </div>
  </div>
      <div>
        <label>Tweet Date</label>
        <input type="date" id="date">
      </div>
    </div>

    <div class="row">
      <label>Tweet Text</label>
      <textarea id="text">This is a sample tweet generated using a Tweet Generator tool.</textarea>
    </div>

    <div class="row row-4">
      <div><label>Replies</label><input id="replies" value="1.2K"></div>
      <div><label>Retweets</label><input id="retweets" value="3.4K"></div>
      <div><label>Likes</label><input id="likes" value="12.8K"></div>
      <div><label>Views</label><input id="views" value="1.1M"></div>
    </div>

    <button onclick="downloadImage()">Download Image</button>
  </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script>
  let isVerified=false;
  const inputs = document.querySelectorAll('input, textarea, select');
  const avatar = document.getElementById('avatar');
  const verifiedBtn = document.getElementById('verifiedBtn');
const pVerified = document.getElementById('pVerified');

  function formatCount(value) {
    if (!value) return '';
    const num = Number(value.toString().replace(/,/g, ''));
    if (isNaN(num)) return value;
    if (num >= 1_000_000_000) return (num / 1_000_000_000).toFixed(num % 1_000_000_000 === 0 ? 0 : 1) + 'B';
    if (num >= 1_000_000) return (num / 1_000_000).toFixed(num % 1_000_000 === 0 ? 0 : 1) + 'M';
    if (num >= 1_000) return (num / 1_000).toFixed(num % 1_000 === 0 ? 0 : 1) + 'K';
    return num.toString();
  }

  function updateTweet() {
    pName.textContent = name1.value;
    pUsername.textContent = username.value;
    pText.textContent = text.value;

    pReplies.textContent = formatCount(replies.value);
    pRetweets.textContent = formatCount(retweets.value);
    pLikes.textContent = formatCount(likes.value);
    pViews.textContent = formatCount(views.value);
    pVerified.style.display=isVerified?'inline':'none';

     if (date.value) {
      const [y, m, d] = date.value.split('-');
      const localDate = new Date(y, m - 1, d);
      pDate.textContent = localDate.toLocaleDateString(undefined, {
        month: 'short',
        day: 'numeric',
        year: 'numeric'
      });
    }

    tweet.className = 'tweet ' + theme.value;
  }

  inputs.forEach(i => i.addEventListener('input', updateTweet));

  verifiedBtn.onclick=()=>{
  isVerified=!isVerified;
  verifiedBtn.style.background=isVerified?'#1da1f2':'#ccc';
  updateTweet();
 };

  avatarInput.addEventListener('change', e => {
    const f = e.target.files[0];
    if (f) avatar.src = URL.createObjectURL(f);
  });

  imagesInput.addEventListener('change', e => {
    const files = [...e.target.files].slice(0, 4);
    pImages.innerHTML = '';
    pImages.className = 'tweet-images ' + ['','one','two','three','four'][files.length];

    files.forEach(f => {
      const img = document.createElement('img');
      img.src = URL.createObjectURL(f);
      pImages.appendChild(img);
    });
  });

  function downloadImage() {
    html2canvas(tweet).then(canvas => {
      const a = document.createElement('a');
      a.download = 'tweet.png';
      a.href = canvas.toDataURL();
      a.click();
    });
  }

  date.valueAsDate = new Date();
  updateTweet();
</script>
</body>
</html>
